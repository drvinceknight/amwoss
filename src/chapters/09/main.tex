\chapter[Heuristics]{Heuristics}

% Introduction
\chapterinitial{I}{t} is often necessary to find the most desirable choice from
a large, or indeed, infinite set of options. Sometimes this can be done using
exact techniques but often this is not possible and we finding an almost perfect
choice quickly is just as good. This is where the field of heuristics comes in
to play.

\section{Problem}\label{sec:problem}

Consider a delivery company that needs to find itineraries for its 3 drivers. In
the past, the management team has noticed that drivers will often drive to
whichever next stop is closest but this often makes for longer deliveries.

The stops of each driver are represented in Figure~\ref{fig:tsp}.

\begin{figure}
\begin{center}
\includegraphics[width=.8\textwidth]{./assets/tsp/main.pdf}
\end{center}
\caption{Diagrammatic representation of the action sets and payoff matrices for
    the game.}
\label{fig:tsp}
\end{figure}

The distance matrices are given in equations (\ref{eqn:tsp-0}-\ref{eqn:tsp-2}).

\begin{landscape}
    \footnotesize{
        \input{./assets/tsp/main.tex}
    }
\end{landscape}

The value \(d^{(k)}_{ij}\) gives the travel distance for itinerary \(k\) between
stops \(i\) and \(j\). For example, \(d^{2}_{23}=103.3\) % TODO If the distance matrix changes, this value need to be updated
indicates that the distance between the 2nd and 3rd stop in the third itinerary
is given 103.3. % TODO If the distance matrix changes, this value need to be updated

Given these parameters, we aim to find a \emph{sufficiently good} set of
itineraries that gives a low total amount of travel.

The emphasis on needing a good solution, but not necessarily the best one,
prioritising computational efficiency is where the field of heuristics comes in
to its own.

\section{Theory}\label{sec:theory}

The heuristic approach take here will be to use a neighborhood search algorithm.
This algorithm works by considering a given potential solution, evaluating it
and then trying another potential solution \emph{close} to it. What \emph{close}
means depends on different approaches and problems: it is referred to as the
neighbourhood. As a new solution is evaluated if it is \emph{good} (this is
again a term that depends on the approach and problem) then the search
continues from the neighbourhood of this new solution.

For our problem,
the first aspect of this is to represent a given trajectory between all the
potential stops as a \emph{tour}. If we have 3 total stops and require that the
tour starts and stops at the first one then there are two possible tours:

\[
    t \in \{(1, 2, 3, 1), (1, 3, 2, 1)\}
\]

Given a distance matrix \(d\) such that \(d_{ij}\) is the distance between stop
\(i\) and \(j\) the total cost of a tour is given by:

\[
    C(t)=...  % TODO Add cost function
\]

% TODO Add example

Using this framework, the neighbourhood search can be written down as:

\begin{enumerate}
    \item Start with a given tour: \(t\).
    \item Evaluate \(C(t)\).
    \item Identify a new \(\tilde t\) from \(t\) and accept it if \(C(\tilde t)<
        C(t)\).
\end{enumerate}

This is shown diagrammatically in Figure ... % TODO Draw figure.
\section{Solving with Python}\label{sec:solving-with-python}

\section{Solving with R}\label{sec:solving-with-R}

\section{Research}\label{sec:research}

TBA
